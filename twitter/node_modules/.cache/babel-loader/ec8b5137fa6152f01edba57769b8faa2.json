{"ast":null,"code":"var _jsxFileName = \"/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/components/profile/showUserLists.js\";\nimport React, { useState } from 'react';\nimport { Button } from 'reactstrap';\nimport axios from 'axios';\nimport logo from \"../../svg/logo.svg\";\nimport '../../pages/home/home.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Navigation from '../../nav/globalNav.js';\nimport RightSide from '../../components/search/search.js';\nimport like from '../../svg/like.jpeg';\nimport retweet from '../../svg/retweet.jpeg';\nimport comment from '../../svg/comment.jpeg';\nimport bookmark from '../../svg/bookmark.jpeg';\nimport classnames from 'classnames';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Input, Label } from 'reactstrap';\nimport { Redirect } from 'react-router';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, NavLink, Nav, NavItem, TabContent, TabPane } from 'reactstrap';\nlet allListsArr = [],\n    dispTweets,\n    listName,\n    listDesc,\n    listMembers,\n    ownedLists = null,\n    subscribedLists = null,\n    memberLists = null;\nlet redirectToViewFlag = false,\n    redirectToView = null,\n    listTweets = null,\n    redirectVar = null;\n\nclass ShowUserLists extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.subscribeList = (members, listId) => {\n      localStorage.setItem('listId', JSON.stringify(listId));\n      let data = {\n        id: localStorage.getItem('id'),\n        userHandle: localStorage.getItem('otherUserHandle'),\n        listId: listId\n      }; // let data={id:\"5de2f6f76156b960fccd9e01\"}\n\n      console.log('set subc data', data);\n      axios.defaults.withCredentials = true; //very imp, sets credentials so that backend can load cookies\n\n      axios.post('/member/setSubscriptions', data).then(response => {\n        console.log('setSubscribers response', response.data);\n        if (response.data != 'exists') alert(\"Subscribed!\");else if (response.data == 'exists') alert('List already subscribed');\n        this.setState({});\n      }).catch(() => {\n        console.log('error in message lists');\n      });\n    };\n\n    let _data = {\n      userHandle: localStorage.getItem('otherUserHandle')\n    };\n    let token = localStorage.getItem('bearer-token');\n    axios.defaults.withCredentials = true; //very imp, sets credentials so that backend can load cookies\n\n    axios.post('/list/getList', _data).then(response => {\n      console.log('response allListsArr', response.data);\n      allListsArr = response.data['lists'];\n      ownedLists = allListsArr.map((twt, index) => React.createElement(\"div\", {\n        className: \"tweetCard-indi\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Tweet-Image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"Tweet-Body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"Tweet-Body-Content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"Tweet-Body-Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, twt.listName)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"Tweet-Body-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, twt.description)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"Tweet-Body-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Members: \", twt.members.join(','))), React.createElement(\"div\", {\n        className: \"Tweet-Body-Panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.subscribeList.bind(this, twt.members, twt.listId),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Subscribe\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })))));\n      this.setState({});\n    }).catch(() => {\n      console.log('error in getting lists');\n    });\n  }\n\n  render() {\n    if (!localStorage.getItem('email')) {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"tweetCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, redirectVar, redirectToView, ownedLists);\n  }\n\n}\n\nexport default ShowUserLists;","map":{"version":3,"sources":["/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/components/profile/showUserLists.js"],"names":["React","useState","Button","axios","Navigation","RightSide","like","retweet","comment","bookmark","classnames","Modal","ModalHeader","ModalBody","ModalFooter","Input","Label","Redirect","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","NavLink","Nav","NavItem","TabContent","TabPane","allListsArr","dispTweets","listName","listDesc","listMembers","ownedLists","subscribedLists","memberLists","redirectToViewFlag","redirectToView","listTweets","redirectVar","ShowUserLists","Component","constructor","props","subscribeList","members","listId","localStorage","setItem","JSON","stringify","data","id","getItem","userHandle","console","log","defaults","withCredentials","post","then","response","alert","setState","catch","token","map","twt","index","description","join","bind","render"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {Button} from 'reactstrap';\nimport axios from 'axios';\nimport logo from '../../svg/logo.svg';\nimport '../../pages/home/home.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport Navigation from '../../nav/globalNav.js';\nimport RightSide from '../../components/search/search.js';\n\n\nimport like from '../../svg/like.jpeg';\nimport retweet from '../../svg/retweet.jpeg';\nimport comment from '../../svg/comment.jpeg';\nimport bookmark from '../../svg/bookmark.jpeg';\nimport classnames from 'classnames';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Input, Label } from 'reactstrap';\nimport {Redirect} from 'react-router'\nimport {\n  Card, CardImg, CardText, CardBody,\n  CardTitle, CardSubtitle, NavLink, Nav, NavItem, TabContent, TabPane\n} from 'reactstrap';\n\nlet allListsArr=[], dispTweets,listName, listDesc, listMembers, ownedLists=null, subscribedLists=null, memberLists=null;\nlet redirectToViewFlag=false, redirectToView=null, listTweets=null, redirectVar=null;\nclass ShowUserLists extends React.Component{\n\n    subscribeList=(members, listId)=>{\n        localStorage.setItem('listId',JSON.stringify(listId))\n        let data={id: localStorage.getItem('id'),userHandle:localStorage.getItem('otherUserHandle'), listId:listId}\n        // let data={id:\"5de2f6f76156b960fccd9e01\"}\n        console.log('set subc data',data)\n        axios.defaults.withCredentials = true;//very imp, sets credentials so that backend can load cookies\n        axios.post('/member/setSubscriptions',data)\n          .then((response) => {\n              console.log('setSubscribers response',response.data)\n              if(response.data!='exists')\n                alert(\"Subscribed!\")\n             else if(response.data=='exists')\n                alert('List already subscribed')\n              this.setState({})\n          })\n          .catch(()=>{console.log('error in message lists')})\n    }\n    constructor(props) {\n      super(props);\n      let data = {userHandle:localStorage.getItem('otherUserHandle')};\n      let token=localStorage.getItem('bearer-token');\n      axios.defaults.withCredentials = true;//very imp, sets credentials so that backend can load cookies\n      axios.post('/list/getList',data)\n        .then((response) => {\n            console.log('response allListsArr',response.data)\n            allListsArr=response.data['lists'];\n            ownedLists=allListsArr.map((twt, index) =>\n                <div className=\"tweetCard-indi\">\n                  <div className=\"Tweet-Image\">\n                    <br/>\n                  </div>\n                  <div className=\"Tweet-Body\">\n                    <br/>\n                    <div className=\"Tweet-Body-Content\">\n                      <h4 className=\"Tweet-Body-Name\">{twt.listName}</h4>\n                    </div>\n                    <div>\n                      <p className=\"Tweet-Body-Text\">{twt.description}</p>\n                    </div>\n                    <div>\n                      <p className=\"Tweet-Body-Text\">Members: {twt.members.join(',')}</p>\n                    </div>\n                    <div className=\"Tweet-Body-Panel\">\n                      <Button onClick={this.subscribeList.bind(this,twt.members,twt.listId)}>Subscribe</Button>\n                      <br/>\n                      <br/>\n                      <br/>\n                    </div>\n                  </div>\n                </div>\n            )\n            this.setState({})\n        })\n        .catch(()=>{console.log('error in getting lists')})\n    }\n\n    render() {\n      if(!localStorage.getItem('email')){\n        redirectVar = <Redirect to= \"/\"/>\n    }\n      return(\n        <div className = \"tweetCard\">\n          {redirectVar}\n            {redirectToView}\n            {ownedLists}\n        </div>\n      );\n    }\n  }\n\nexport default ShowUserLists;"]},"metadata":{},"sourceType":"module"}