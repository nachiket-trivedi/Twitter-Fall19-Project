{"ast":null,"code":"var _jsxFileName = \"/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/pages/dashboard/topTenViews.js\";\nimport React from 'react';\nimport { Bar, Doughnut, Line, Pie, Polar, Scatter, Radar, HorizontalBar } from 'react-chartjs-2';\nimport axios from 'axios';\nlet response_data = [];\nlet labels = [];\n\nclass TopTenViews extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartData: {}\n    };\n  }\n\n  componentWillMount() {\n    axios.defaults.withCredentials = true;\n    axios.get('/dashboard/getTweets/' + localStorage.getItem('id')).then(response => {\n      console.log(response.data);\n      response_data = response.data;\n      response_data.sort((a, b) => a.views < b.views ? 1 : -1);\n      response_data = response_data.length > 10 ? response_data.slice(0, 10) : response_data;\n      let bc = [];\n      let data = [];\n\n      for (let tweet of response_data) {\n        data.push(tweet.views);\n        labels.push(tweet.tweet);\n        let c = \"#xxxxxx\".replace(/x/g, y => (Math.random() * 16 | 0).toString(16));\n        bc.push(c);\n      }\n\n      this.setState({\n        chartData: {\n          labels: labels,\n          datasets: [{\n            label: \"Views\",\n            data: data,\n            backgroundColor: bc\n          }]\n        }\n      });\n      console.log(data);\n    }).catch(error => {\n      console.log(\"Error: \" + JSON.stringify(error));\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(HorizontalBar, {\n      data: this.state.chartData,\n      options: {\n        title: {\n          display: true,\n          text: \"Showing Top 10 Viewed Tweets\",\n          fontSize: 25\n        },\n        legend: {\n          display: true,\n          position: 'bottom'\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default TopTenViews;","map":{"version":3,"sources":["/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/pages/dashboard/topTenViews.js"],"names":["React","Bar","Doughnut","Line","Pie","Polar","Scatter","Radar","HorizontalBar","axios","response_data","labels","TopTenViews","Component","constructor","props","state","chartData","componentWillMount","defaults","withCredentials","get","localStorage","getItem","then","response","console","log","data","sort","a","b","views","length","slice","bc","tweet","push","c","replace","y","Math","random","toString","setState","datasets","label","backgroundColor","catch","error","JSON","stringify","render","title","display","text","fontSize","legend","position"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Bar, Doughnut, Line, Pie, Polar, Scatter, Radar, HorizontalBar} from 'react-chartjs-2';\nimport axios from 'axios';\n\nlet response_data = [\n];\n\nlet labels = []\n\nclass TopTenViews extends React.Component {\n\n  constructor(props){\n\tsuper(props);\n\t\n\n    this.state = {\n    \tchartData :{\n\n      \t}\n    }\n    \n  }\n\n  componentWillMount(){\n\t\n\taxios.defaults.withCredentials = true;\n    axios.get('/dashboard/getTweets/'+localStorage.getItem('id'))\n    .then(response => {\n\n        console.log(response.data)\n\t\tresponse_data = response.data;\n\t\t\n\t\t\n\n\t\tresponse_data.sort((a, b) => ((a.views < b.views) )? 1 : -1);\n\t\tresponse_data = (response_data.length > 10) ? response_data.slice(0,10) : response_data;\n\n        let bc = []\n\t\tlet data = []\n\t\tfor(let tweet of response_data){\n\t\t\tdata.push(tweet.views);\n\t\t\tlabels.push(tweet.tweet);\n\t\t\tlet c= \"#xxxxxx\".replace(/x/g, y=>(Math.random()*16|0).toString(16));\n          \tbc.push(c)\n\t\t}\n\t\n\t\tthis.setState({\n\t\t\tchartData : {\n\t\t\t\tlabels : labels,\n\t\t\t\tdatasets : [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel : \"Views\",\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tbackgroundColor : bc\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t})\n\t\tconsole.log(data);\n    \n    })\n    .catch(error=>{\n        console.log(\"Error: \"+JSON.stringify(error));\n    });\n  }\n\n\n  \n\n  \n  render(){\n\n    return(\n\t\t<div>\n\t\t\t<div className=\"chart\">\n\t\t\t\t<HorizontalBar\n\t\t\t\t\tdata={this.state.chartData}\n\t\t\t\t\toptions={\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle:{\n\t\t\t\t\t\t\tdisplay:true,\n\t\t\t\t\t\t\ttext:`Showing Top 10 Viewed Tweets`,\n\t\t\t\t\t\t\tfontSize:25\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend:{\n\t\t\t\t\t\t\tdisplay:true,\n\t\t\t\t\t\t\tposition:'bottom'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t</div>\n\n\n\t\t</div>\n    )\n  }\n}\n\nexport default TopTenViews;\n"]},"metadata":{},"sourceType":"module"}