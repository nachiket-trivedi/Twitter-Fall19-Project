{"ast":null,"code":"var _jsxFileName = \"/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/pages/home/tweet.js\";\nimport React from 'react';\nimport { Button } from 'reactstrap';\nimport axios from 'axios';\nimport logo from \"../../svg/logo.svg\";\nimport './home.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Navigation from '../../nav/globalNav.js';\nimport RightSide from '../../components/search/search.js';\nimport { Redirect } from 'react-router';\nimport like from '../../svg/like.jpeg';\nimport retweet from '../../svg/retweet.jpeg';\nimport comment from '../../svg/comment.jpeg'; //import option from '../../svg/option.jpeg';\n\nimport bookmark from '../../svg/bookmark.jpeg';\nimport NotificationAlert from 'react-notification-alert';\nimport \"react-notification-alert/dist/animate.css\";\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle } from 'reactstrap';\nlet otherTweets = [];\nvar retweete = {};\nretweete = {\n  place: 'tc',\n  message: React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Tweet Retweeted successfully! \"))),\n  type: \"warning\",\n  icon: \"now-ui-icons ui-1_bell-53\",\n  autoDismiss: 3\n};\nvar likeTweet = {};\nlikeTweet = {\n  place: 'tc',\n  message: React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Tweet Liked!\"))),\n  type: \"warning\",\n  icon: \"now-ui-icons ui-1_bell-53\",\n  autoDismiss: 3\n};\nvar bookmarktweet = {};\nbookmarktweet = {\n  place: 'tc',\n  message: React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Tweet Bookmarked successfully!\"))),\n  type: \"warning\",\n  icon: \"now-ui-icons ui-1_bell-53\",\n  autoDismiss: 3\n};\n\nclass Tweet extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loadTweet = tid => {\n      localStorage.setItem('tweetloadid', tid);\n      let reDirect = React.createElement(Redirect, {\n        to: {\n          pathname: '/loadTweet'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      });\n      this.setState({\n        reDirect: reDirect\n      });\n    };\n\n    this.likeTweet = tweetid => {\n      let data = {\n        tweetId: tweetid,\n        likedBy: localStorage.getItem('userHandle'),\n        id: localStorage.getItem('id')\n      };\n      console.log('Tweet like data is:', data);\n      axios.defaults.withCredentials = true; //very imp, sets credentials so that backend can load cookies\n\n      axios.post('/users/tweet/like', data).then(response => {\n        // alert('success')\n        console.log('response othertweets', response.data);\n        otherTweets = response.data;\n        this.refs.notify.notificationAlert(likeTweet);\n        window.location.reload();\n      }).catch(() => {\n        console.log('error');\n      });\n    };\n\n    this.retweetTweet = twt => {\n      let data = {\n        tweet: twt.tweet,\n        id: localStorage.getItem('id'),\n        name: localStorage.getItem('name'),\n        originalTweetOwner: twt.orignalHandle\n      }; // let data = {tweetId:tweetid,likedBy:localStorage.getItem('userHandle'),id:localStorage.getItem('id')}\n\n      console.log('Tweet retweet data is:', data);\n      axios.defaults.withCredentials = true; //very imp, sets credentials so that backend can load cookies\n\n      axios.post('/users/tweet/retweet', data).then(response => {\n        // alert('success')\n        console.log('response othertweets', response.data);\n        otherTweets = response.data;\n        this.refs.notify.notificationAlert(retweete);\n        window.location.reload();\n      }).catch(() => {\n        console.log('error');\n      });\n    };\n\n    this.bookmarkTweet = twt => {\n      let data = {\n        tweet_id: twt,\n        id: localStorage.getItem('id')\n      }; // let data = {tweetId:tweetid,likedBy:localStorage.getItem('userHandle'),id:localStorage.getItem('id')}\n\n      console.log('Tweet bookmarkTweet data is:', data);\n      axios.defaults.withCredentials = true; //very imp, sets credentials so that backend can load cookies\n\n      axios.post('/users/bookmark', data).then(response => {\n        // alert('success')\n        console.log('response othertweets', response.data);\n        otherTweets = response.data;\n        this.refs.notify.notificationAlert(bookmarktweet);\n        window.location.reload();\n      }).catch(() => {\n        console.log('error');\n      });\n    };\n\n    this.state = {\n      reDirect: \"\"\n    };\n    let _data = '5de03cd0b5ad6906843d79d2';\n    let token = localStorage.getItem('bearer-token');\n    axios.defaults.withCredentials = true; //very imp, sets credentials so that backend can load cookies\n\n    axios.get('/profile/getAllTweets/' + localStorage.getItem('id'), {\n      params: {},\n      mode: 'no-cors'\n    }).then(response => {\n      // alert('success')\n      console.log('response othertweets', response.data);\n      otherTweets = response.data;\n      this.setState({});\n    }).catch(() => {\n      console.log('error');\n    });\n    this.addReply = this.addReply.bind(this);\n  }\n\n  myFunc() {\n    this.refs.notify.notificationAlert(retweete);\n  }\n\n  showAddReply(id) {\n    //console.log(id);\n    var rows = document.getElementsByName(id); //console.log(e.target.value);\n\n    for (let row of rows) {\n      //console.log(row);\n      if (row.style.display === \"none\") {\n        row.style.display = \"\";\n      } else {\n        row.style.display = \"none\";\n      }\n    }\n  }\n\n  addReply(e) {\n    //console.log(e.target.value);\n    var message = document.getElementById(e.target.value).value; //console.log(message);\n\n    axios.defaults.withCredentials = true;\n    let data = {\n      \"tweetId\": e.target.value,\n      \"userHandle\": localStorage.getItem('userHandle'),\n      \"reply\": message\n    };\n    axios.post('/users/tweet/reply', data).then(response => {\n      console.log(JSON.stringify(response.data));\n\n      if (response.status === 200) {\n        alert(\"Reply Added\");\n        window.location.reload();\n      } else {\n        console.log(response.data);\n      }\n    }).catch(error => {\n      console.log(\"Error: \" + JSON.stringify(error));\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"tweetCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(NotificationAlert, {\n      ref: \"notify\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), this.state.reDirect, otherTweets.map((twt, index) => React.createElement(\"div\", {\n      className: \"tweetCard-indi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Tweet-Image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      className: \"image\",\n      src: twt.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"Tweet-Body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"Tweet-Body-Content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"Tweet-Body-Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, twt.name), React.createElement(\"p\", {\n      className: \"Tweet-Body-Handle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, twt.userHandle), React.createElement(\"p\", {\n      className: \"Tweet-Body-Date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, twt.date)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"Tweet-Body-Text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, twt.tweet)), React.createElement(\"div\", {\n      className: \"Tweet-Body-Panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"Tweet-Body-Panel-Comment\",\n      onClick: this.showAddReply.bind(this, twt.tweetId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: comment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"Tweet-Body-Panel-ReTweet\",\n      onClick: () => this.retweetTweet(twt),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: retweet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"Tweet-Body-Panel-Like\",\n      onClick: () => this.likeTweet(twt.tweetId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      color: \"white\",\n      id: \"likec\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, twt.likes), React.createElement(\"img\", {\n      src: like,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"Tweet-Body-Panel-Bookmark\",\n      onClick: () => this.bookmarkTweet(twt.tweetId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: bookmark,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.loadTweet(twt.tweetId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"View Tweet\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        display: \"none\"\n      },\n      name: twt.tweetId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      rows: \"4\",\n      cols: \"50\",\n      placeholder: \"Reply to this tweet......\",\n      id: twt.tweetId,\n      name: \"tweetReply\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.addReply,\n      value: twt.tweetId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Send\"))))));\n  }\n\n}\n\nexport default Tweet;","map":{"version":3,"sources":["/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/pages/home/tweet.js"],"names":["React","Button","axios","Navigation","RightSide","Redirect","like","retweet","comment","bookmark","NotificationAlert","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","otherTweets","retweete","place","message","type","icon","autoDismiss","likeTweet","bookmarktweet","Tweet","Component","constructor","props","loadTweet","tid","localStorage","setItem","reDirect","pathname","setState","tweetid","data","tweetId","likedBy","getItem","id","console","log","defaults","withCredentials","post","then","response","refs","notify","notificationAlert","window","location","reload","catch","retweetTweet","twt","tweet","name","originalTweetOwner","orignalHandle","bookmarkTweet","tweet_id","state","token","get","params","mode","addReply","bind","myFunc","showAddReply","rows","document","getElementsByName","row","style","display","e","getElementById","target","value","JSON","stringify","status","alert","error","render","map","index","image","userHandle","date","likes"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Button} from 'reactstrap';\nimport axios from 'axios';\nimport logo from '../../svg/logo.svg';\nimport './home.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport Navigation from '../../nav/globalNav.js';\nimport RightSide from '../../components/search/search.js';\n\nimport {Redirect} from 'react-router';\n\nimport like from '../../svg/like.jpeg';\nimport retweet from '../../svg/retweet.jpeg';\nimport comment from '../../svg/comment.jpeg';\n//import option from '../../svg/option.jpeg';\nimport bookmark from '../../svg/bookmark.jpeg';\n\nimport NotificationAlert from 'react-notification-alert';\nimport \"react-notification-alert/dist/animate.css\";\n\nimport {\n  Card, CardImg, CardText, CardBody,\n  CardTitle, CardSubtitle\n} from 'reactstrap';\n\nlet otherTweets=[];\n\nvar retweete = {};\nretweete = {\n    place: 'tc',\n    message: (\n        <div>\n            <div>\n            <p align=\"center\">Tweet Retweeted successfully! </p>\n            </div>\n        </div>\n    ),\n    type: \"warning\",\n    icon: \"now-ui-icons ui-1_bell-53\",\n    autoDismiss: 3\n}\n\nvar likeTweet = {};\nlikeTweet={\n  place: 'tc',\n  message: (\n      <div>\n          <div>\n             <p align=\"center\">Tweet Liked!</p>\n          </div>\n      </div>\n  ),\n  type: \"warning\",\n  icon: \"now-ui-icons ui-1_bell-53\",\n  autoDismiss: 3\n}\n\nvar bookmarktweet = {};\nbookmarktweet={\n  place: 'tc',\n  message: (\n      <div>\n          <div>\n             <p align=\"center\">Tweet Bookmarked successfully!</p>\n          </div>\n      </div>\n  ),\n  type: \"warning\",\n  icon: \"now-ui-icons ui-1_bell-53\",\n  autoDismiss: 3\n}\nclass Tweet extends React.Component{\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        reDirect:\"\"\n      }\n      let data = '5de03cd0b5ad6906843d79d2';\n      let token=localStorage.getItem('bearer-token');\n      axios.defaults.withCredentials = true;//very imp, sets credentials so that backend can load cookies\n      axios.get('/profile/getAllTweets/'+localStorage.getItem('id'), {params:{}, mode:'no-cors'})\n        .then((response) => {\n            // alert('success')\n            console.log('response othertweets',response.data)\n            otherTweets=response.data;\n            this.setState({})\n        })\n        .catch(()=>{console.log('error')})\n        this.addReply = this.addReply.bind(this);\n    }\n\n    myFunc(){\n      this.refs.notify.notificationAlert(retweete);\n  }\n\n  loadTweet = (tid)=>{\n    localStorage.setItem('tweetloadid',tid)\n    let reDirect= <Redirect to={{\n      pathname: '/loadTweet'\n  }}\n  />\n\n  this.setState({\n  reDirect:reDirect\n  })\n  }\n\n  showAddReply(id){\n    //console.log(id);\n    var rows = document.getElementsByName(id);\n    //console.log(e.target.value);\n    for( let row of rows){\n        //console.log(row);\n        if (row.style.display === \"none\") {\n        row.style.display = \"\";\n        } else {\n            row.style.display = \"none\";\n        }\n    }\n  }\n\n  addReply(e){\n    //console.log(e.target.value);\n    var message = document.getElementById(e.target.value).value;\n    //console.log(message);\n    axios.defaults.withCredentials = true;\n    let data = {\n      \"tweetId\":e.target.value,\n      \"userHandle\":localStorage.getItem('userHandle'),\n      \"reply\" : message,\n    };\n    axios.post('/users/tweet/reply',data)\n    .then(response => {\n        console.log(JSON.stringify(response.data));\n        if(response.status === 200){\n          alert(\"Reply Added\");\n          window.location.reload();\n        }else{\n            console.log(response.data);\n        }\n    })\n    .catch(error=>{\n        console.log(\"Error: \"+JSON.stringify(error));\n\n    }\n    );\n}\n\n    likeTweet = (tweetid)=>{\n      let data = {tweetId:tweetid,likedBy:localStorage.getItem('userHandle'),id:localStorage.getItem('id')}\n      console.log('Tweet like data is:',data)\n        axios.defaults.withCredentials = true;//very imp, sets credentials so that backend can load cookies\n      axios.post('/users/tweet/like',data)\n        .then((response) => {\n            // alert('success')\n            console.log('response othertweets',response.data)\n            otherTweets=response.data;\n            this.refs.notify.notificationAlert(likeTweet);\n            window.location.reload();\n\n        })\n        .catch(()=>{console.log('error')})\n    }\n\n    retweetTweet = (twt)=>{\n      let data = {tweet:twt.tweet, id:localStorage.getItem('id'), name:localStorage.getItem('name'),originalTweetOwner:twt.orignalHandle};\n     // let data = {tweetId:tweetid,likedBy:localStorage.getItem('userHandle'),id:localStorage.getItem('id')}\n      console.log('Tweet retweet data is:',data)\n        axios.defaults.withCredentials = true;//very imp, sets credentials so that backend can load cookies\n      axios.post('/users/tweet/retweet',data)\n        .then((response) => {\n            // alert('success')\n            console.log('response othertweets',response.data)\n            otherTweets=response.data;\n            this.refs.notify.notificationAlert(retweete);\n           window.location.reload();\n\n        })\n        .catch(()=>{console.log('error')})\n    }\n\n    bookmarkTweet = (twt)=>{\n      let data = {tweet_id:twt, id:localStorage.getItem('id')};\n     // let data = {tweetId:tweetid,likedBy:localStorage.getItem('userHandle'),id:localStorage.getItem('id')}\n      console.log('Tweet bookmarkTweet data is:',data)\n        axios.defaults.withCredentials = true;//very imp, sets credentials so that backend can load cookies\n      axios.post('/users/bookmark',data)\n        .then((response) => {\n            // alert('success')\n            console.log('response othertweets',response.data)\n            otherTweets=response.data;\n            this.refs.notify.notificationAlert(bookmarktweet);\n           window.location.reload();\n        })\n        .catch(()=>{console.log('error')})\n    }\n\n    render() {\n\n      return(\n        <div className = \"tweetCard\">\n           <NotificationAlert ref=\"notify\" />\n           {this.state.reDirect}\n            {otherTweets.map((twt, index) =>\n                <div className=\"tweetCard-indi\">\n                  <div className=\"Tweet-Image\">\n                    <br/>\n                    <img className=\"image\" src={twt.image}/>\n                  </div>\n                  <div className=\"Tweet-Body\">\n                    <br/>\n                    <div className=\"Tweet-Body-Content\">\n                      <h5 className=\"Tweet-Body-Name\">{twt.name}</h5>\n                      <p className=\"Tweet-Body-Handle\">{twt.userHandle}</p>\n                      <p className=\"Tweet-Body-Date\">{twt.date}</p>\n                    </div>\n                    <div>\n                      <p className=\"Tweet-Body-Text\">{twt.tweet}</p>\n                    </div>\n                    <div className=\"Tweet-Body-Panel\">\n                    <button className=\"Tweet-Body-Panel-Comment\" onClick = {this.showAddReply.bind(this,twt.tweetId)}><img src={comment}/></button>\n                      <button className=\"Tweet-Body-Panel-ReTweet\" onClick={()=>this.retweetTweet(twt)}><img src={retweet}/></button>\n                      <button className=\"Tweet-Body-Panel-Like\" onClick={()=>this.likeTweet(twt.tweetId)}><span color=\"white\" id=\"likec\">{twt.likes}</span><img src={like}/></button>\n                      <button className=\"Tweet-Body-Panel-Bookmark\" onClick={()=>this.bookmarkTweet(twt.tweetId)}><img src={bookmark}/></button>\n                      <button className=\"btn btn-primary\" onClick={()=>this.loadTweet(twt.tweetId)}>View Tweet</button>\n                      <br/>\n                      <br/>\n                      <br/>\n                    </div>\n                    <div style = {{display:\"none\"}} name = {twt.tweetId}>\n                      <textarea rows=\"4\" cols=\"50\" placeholder = \"Reply to this tweet......\" id = {twt.tweetId} name =\"tweetReply\" /> <br/>\n                      <button onClick = {this.addReply} value = {twt.tweetId}>Send</button>\n                    </div>\n                  </div>\n                </div>\n            )}\n        </div>\n      );\n    }\n  }\n\nexport default Tweet;\n"]},"metadata":{},"sourceType":"module"}