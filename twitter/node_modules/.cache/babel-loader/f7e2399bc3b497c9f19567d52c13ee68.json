{"ast":null,"code":"var _jsxFileName = \"/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/components/messages/chatBox.js\";\nimport React, { useState } from 'react';\nimport { Button } from 'reactstrap';\nimport axios from 'axios';\nimport logo from \"../../svg/logo.svg\";\nimport './chatBox.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Pranav from '../../svg/Pranav.jpeg';\nimport Kalyani from '../../svg/Kalyani.jpeg';\nimport Mukesh from '../../svg/Mukesh.jpeg';\nimport Kartik from '../../svg/Kartik.png';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle } from 'reactstrap';\nconst chatId = \"11234567\";\nconst senderId = \"hdde\";\nconst receivedId = \"689d9ddd\";\n\nclass MessageBox extends React.Component {\n  // constructor(props) {\n  //   super(props)\n  //   this.state = {\n  //     messagesList: this.props.messagesList,\n  //     //messages: []\n  //   };\n  //   //this.sendMessage = this.sendMessage.bind(this)\n  // }\n  // sendMessage(text) {\n  //     this.state.sendMessage({\n  //       text: text,\n  //       chatId: chatId,\n  //     })\n  //   }\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Messages-RightSide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"chat-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(MessageList, {\n      messagesList: 'Hi',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass MessageList extends React.Component {\n  render() {\n    return React.createElement(\"ul\", {\n      className: \"message-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"return (\", React.createElement(\"li\", {\n      className: \"message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.props.messagesList), \" \"), \")\");\n  }\n\n}\n\nclass SendMessageForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      message: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.props.messagesList(this.state.message);\n    this.setState({\n      message: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    console.log(\"inside handle submit\");\n    e.preventDefault(); //this.props.sendMessage(this.state.message)\n\n    let data = {\n      \"chatId\": \"5de48e956528003d3887b7b3\",\n      \"senderId\": \"5de03ca78752b30ca074122d\",\n      \"receiverId\": \"5de2f6f76156b960fccd9e01\",\n      \"message\": this.state.text\n    };\n    axios.post('/messages/addMessageToChat', data).then(response => {\n      console.log('response ok', response);\n      console.log(\"Status Code : \", response);\n\n      if (response.data == \"error\") {\n        alert(\"Invalid credentials\");\n      }\n\n      this.setState({\n        messagesList: [...this.state.messagesList, response.data.message]\n      });\n    }).catch(response => {\n      alert(\"Invalid\");\n      this.setState({});\n    });\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"send-message-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.handleChange,\n      value: this.state.text,\n      placeholder: \"Type your message and hit ENTER\",\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }));\n  }\n\n}\n\nfunction Title() {\n  return React.createElement(\"p\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"My awesome chat app\");\n}\n\n{\n  /*\n  class MessageBox extends React.Component{\n    constructor() {\n     super()\n     this.state = {\n       message: ''\n     }\n     this.handleChange = this.handleChange.bind(this)\n     this.handleSubmit = this.handleSubmit.bind(this)\n   }\n    handleChange(e) {\n     this.setState({\n       message: e.target.value\n     })\n   }\n    handleSubmit(e) {\n     e.preventDefault()\n     this.props.sendMessage(this.state.message)\n     this.setState({\n       message: ''\n     })\n   }\n   // constructor(props) {\n   //   super(props)\n   //   this.state = {\n   //     messageId: this.props.dataFromParentForChat,\n   //     name: this.props.dataFromParentForChat,\n   //     userHandle: this.props.dataFromParentForChat,\n   //     date: this.props.dataFromParentForChat,\n   //   };\n   // }\n    render(){\n     return(\n       <div className=\"chat-div\">\n         <form onSubmit={this.handleSubmit}>\n           <input\n             onChange={this.handleChange}\n             value={this.state.message}\n             placeholder=\"Type your message and hit ENTER\"\n             type=\"text\"\n           />\n       </form>\n       </div>\n     )\n   }\n  }\n  */\n}\nexport default MessageBox;\n{\n  /*\n   <div>\n   {this.props.messagesList.map(message => {\n     return(\n       <div className=\"chatMessagesReceive\">\n         <p>{message.text}</p>\n       </div>\n     )\n   })}\n   </div>\n   */\n}","map":{"version":3,"sources":["/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/components/messages/chatBox.js"],"names":["React","useState","Button","axios","Pranav","Kalyani","Mukesh","Kartik","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","chatId","senderId","receivedId","MessageBox","Component","render","MessageList","props","messagesList","SendMessageForm","constructor","state","message","handleChange","bind","handleSubmit","e","setState","target","value","console","log","preventDefault","data","text","post","then","response","alert","catch","Title"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {Button} from 'reactstrap';\nimport axios from 'axios';\nimport logo from '../../svg/logo.svg';\nimport './chatBox.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport Pranav from '../../svg/Pranav.jpeg';\nimport Kalyani from '../../svg/Kalyani.jpeg';\nimport Mukesh from '../../svg/Mukesh.jpeg';\nimport Kartik from '../../svg/Kartik.png';\n\nimport {\n  Card, CardImg, CardText, CardBody,\n  CardTitle, CardSubtitle\n} from 'reactstrap';\n\n\nconst chatId = \"11234567\"\nconst senderId = \"hdde\"\nconst receivedId = \"689d9ddd\"\n\nclass MessageBox extends React.Component {\n\n  // constructor(props) {\n  //   super(props)\n  //   this.state = {\n  //     messagesList: this.props.messagesList,\n  //     //messages: []\n  //   };\n  //   //this.sendMessage = this.sendMessage.bind(this)\n  // }\n\n  // sendMessage(text) {\n  //     this.state.sendMessage({\n  //       text: text,\n  //       chatId: chatId,\n  //     })\n  //   }\n\n  render() {\n        return (\n          <div className=\"Messages-RightSide\">\n            <div className=\"chat-div\">\n              <Title />\n              <MessageList messagesList={'Hi'} />\n              {/*<SendMessageForm sendMessage={this.sendMessage} />*/}\n            </div>\n          </div>\n        );\n    }\n}\n\nclass MessageList extends React.Component {\n    render() {\n        return (\n          <ul className=\"message-list\">\n                {/*{this.props.messagesList.map((message, index) => {*/}\n                    return (\n                      <li className=\"message\">\n                        <div>{this.props.messagesList}</div> {/* this was sender id*/}\n                      </li>\n                    )\n            {/*    })} */}\n            </ul>\n       )\n    }\n}\n\nclass SendMessageForm extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            message: ''\n        }\n        this.handleChange = this.handleChange.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n\n\n    handleChange(e) {\n        this.props.messagesList(this.state.message)\n        this.setState({\n            message: e.target.value\n        })\n    }\n\n    handleSubmit(e) {\n        console.log(\"inside handle submit\");\n        e.preventDefault()\n        //this.props.sendMessage(this.state.message)\n        let data =\n        {\n        \t\"chatId\" : \"5de48e956528003d3887b7b3\",\n          \"senderId\" : \"5de03ca78752b30ca074122d\",\n          \"receiverId\" : \"5de2f6f76156b960fccd9e01\",\n        \t\"message\" : this.state.text\n        }\n        axios.post('/messages/addMessageToChat', data)\n          .then((response) => {\n              console.log('response ok',response)\n              console.log(\"Status Code : \", response);\n              if(response.data==\"error\")\n              {\n                  alert(\"Invalid credentials\");\n              }\n              this.setState({\n                messagesList: [...this.state.messagesList, response.data.message]\n              });\n\n          })\n          .catch (response => {\n              alert(\"Invalid\");\n              this.setState({});\n            }\n          )\n\n    }\n\n    render() {\n        return (\n            <form\n                onSubmit={this.handleSubmit}\n                className=\"send-message-form\">\n                <input\n                    onChange={this.handleChange}\n                    value={this.state.text}\n                    placeholder=\"Type your message and hit ENTER\"\n                    type=\"text\" />\n                <br/>\n                <Button type=\"submit\"/>\n            </form>\n        )\n    }\n}\n\nfunction Title() {\n  return <p className=\"title\">My awesome chat app</p>\n}\n\n\n{/*\nclass MessageBox extends React.Component{\n\n  constructor() {\n    super()\n    this.state = {\n      message: ''\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleChange(e) {\n    this.setState({\n      message: e.target.value\n    })\n  }\n\n  handleSubmit(e) {\n    e.preventDefault()\n    this.props.sendMessage(this.state.message)\n    this.setState({\n      message: ''\n    })\n  }\n  // constructor(props) {\n  //   super(props)\n  //   this.state = {\n  //     messageId: this.props.dataFromParentForChat,\n  //     name: this.props.dataFromParentForChat,\n  //     userHandle: this.props.dataFromParentForChat,\n  //     date: this.props.dataFromParentForChat,\n  //   };\n  // }\n\n  render(){\n    return(\n      <div className=\"chat-div\">\n        <form onSubmit={this.handleSubmit}>\n          <input\n            onChange={this.handleChange}\n            value={this.state.message}\n            placeholder=\"Type your message and hit ENTER\"\n            type=\"text\"\n          />\n      </form>\n      </div>\n    )\n  }\n}\n*/}\n\nexport default MessageBox;\n\n{/*\n  <div>\n  {this.props.messagesList.map(message => {\n    return(\n      <div className=\"chatMessagesReceive\">\n        <p>{message.text}</p>\n      </div>\n    )\n  })}\n  </div>\n  */}\n"]},"metadata":{},"sourceType":"module"}