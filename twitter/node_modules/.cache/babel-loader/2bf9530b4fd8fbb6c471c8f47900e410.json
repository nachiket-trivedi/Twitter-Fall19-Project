{"ast":null,"code":"var _jsxFileName = \"/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/pages/login/login.js\";\nimport React from 'react';\nimport { Col, Row, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { Button } from 'reactstrap';\nimport logo from \"../../svg/loginBird.svg\";\nimport logo2 from \"../../svg/loginBird.svg\";\nimport './login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nlet email = null,\n    password = null,\n    redirectVar = null;\n\nclass LogIn extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.emailChangeHandler = e => {\n      this.setState({\n        email: e.target.value\n      });\n    };\n\n    this.passwordChangeHandler = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.loginUser = () => {\n      let data = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios.defaults.withCredentials = true; //very imp, sets credentials so that backend can load cookies\n\n      console.log('her ein the signin', data);\n      axios.post('/profile/signInProfile', data).then(response => {\n        console.log('response ok', response.data);\n        console.log(\"Status Code : \", response);\n\n        if (response.data == 'credentials not Match') {\n          alert(\"Invalid credentials\");\n        } else if (response.data != 'credentials not Match' && response.data != \"error\") {\n          // alert(\"Login Success!\");\n          //set local storage\n          console.log('Success!!!', response.data);\n          localStorage.setItem('name', response.data.name);\n          localStorage.setItem('email', response.data.email);\n          localStorage.setItem('id', response.data._id);\n          localStorage.setItem('userHandle', response.data.userHandle);\n          localStorage.setItem('chats', response.data.chats);\n        } else if (response.data == \"error\") {\n          alert(\"Server Error\");\n        } // this.setState({});\n\n\n        window.location.reload();\n      }).catch(response => {\n        alert(\"Invalid\"); // this.setState({});\n\n        window.location.reload();\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      authFlag: false\n    };\n  }\n\n  render() {\n    if (localStorage.getItem('email')) redirectVar = React.createElement(Redirect, {\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    });else redirectVar = React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, redirectVar, React.createElement(\"img\", {\n      className: \"Login-Navigation\",\n      src: logo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"Login-RightSide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"SignInAndPasswordMount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Form, {\n      inline: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      className: \"mb-2 mr-sm-2 mb-sm-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      id: \"exampleEmail\",\n      onChange: this.emailChangeHandler,\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(FormGroup, {\n      className: \"mb-2 mr-sm-2 mb-sm-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      id: \"examplePassword\",\n      onChange: this.passwordChangeHandler,\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.loginUser.bind(this),\n      className: \"LogIn-RightSide-InLine\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Log in\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"LogIn-RightSide-Bird\",\n      src: logo2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      className: \"LogIn-RightSide-Wording\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"See what\\u2019s happening in\"), React.createElement(\"h1\", {\n      className: \"LogIn-RightSide-Wording\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"the world right now\"), React.createElement(\"h5\", {\n      className: \"LogIn-RightSide-Wording\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Join Twitter today.\"), React.createElement(\"div\", {\n      className: \"LogIn-RightSide-Button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"LogIn-RightSide-SignUp\",\n      href: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Sign up\"), React.createElement(\"div\", {\n      className: \"LogIn-RightSide-LogIn-Padding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"LogIn-RightSide-LogIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Log in\")))))));\n  }\n\n}\n\nexport default LogIn;","map":{"version":3,"sources":["/Users/nachikettrivedi/Desktop/WebDev/Twitter/TwitterSJSU/twitter/src/pages/login/login.js"],"names":["React","Col","Row","Form","FormGroup","Label","Input","Button","axios","Redirect","Link","email","password","redirectVar","LogIn","Component","constructor","props","emailChangeHandler","e","setState","target","value","passwordChangeHandler","loginUser","data","state","defaults","withCredentials","console","log","post","then","response","alert","localStorage","setItem","name","_id","userHandle","chats","window","location","reload","catch","authFlag","render","getItem","logo","bind","logo2"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Col, Row, Form, FormGroup, Label, Input } from 'reactstrap';\nimport {Button} from 'reactstrap';\nimport logo from '../../svg/loginBird.svg';\nimport logo2 from '../../svg/loginBird.svg';\nimport './login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport {Redirect} from 'react-router';\nimport { Link } from 'react-router-dom';\n\nlet email=null, password=null, redirectVar=null;\n\nclass LogIn extends React.Component {\n  constructor(props)\n  {\n    super(props)\n    this.state={email:'',password:'', authFlag:false}\n  }\n   emailChangeHandler=(e)=>{\n    this.setState({email:e.target.value})\n  }\n   passwordChangeHandler=(e)=>{\n    this.setState({password:e.target.value})\n  }\n   loginUser=()=>{\n    let data = {email:this.state.email,password:this.state.password};\n    axios.defaults.withCredentials = true;//very imp, sets credentials so that backend can load cookies\n    console.log('her ein the signin',data);\n    axios.post('/profile/signInProfile',data)\n      .then((response) => {\n          console.log('response ok',response.data)\n          console.log(\"Status Code : \", response);\n          if(response.data=='credentials not Match')\n          {\n            alert(\"Invalid credentials\");\n          }\n          else if (response.data!='credentials not Match' && response.data!=\"error\")\n          {\n            // alert(\"Login Success!\");\n            //set local storage\n            console.log('Success!!!',response.data)\n            localStorage.setItem('name',response.data.name)\n            localStorage.setItem('email',response.data.email)\n            localStorage.setItem('id',response.data._id)\n            localStorage.setItem('userHandle',response.data.userHandle)\n            localStorage.setItem('chats',response.data.chats)\n          }\n          else if(response.data==\"error\")\n          {\n              alert(\"Server Error\");\n          }\n          // this.setState({});\n          window.location.reload()\n      })\n      .catch (response => {\n          alert(\"Invalid\");\n          // this.setState({});\n          window.location.reload()\n\n        }\n      )\n  }\n  render(){\n    if(localStorage.getItem('email'))\n      redirectVar=<Redirect to='/home'/>\n    else\n      redirectVar=<Redirect to='/'/>\n  return (\n    <div className=\"Login\">\n      {redirectVar}\n      <img className=\"Login-Navigation\" src={logo}/>\n        {/*<img className=\"Login-Navigation-Bird\" src={logo} />*/}\n\n      <div className=\"Login-RightSide\">\n      <div className=\"SignInAndPasswordMount\">\n        <Form inline>\n          <FormGroup className=\"mb-2 mr-sm-2 mb-sm-0\">\n            <Input type=\"email\" name=\"email\" id=\"exampleEmail\" onChange={this.emailChangeHandler} placeholder=\"Email\" />\n          </FormGroup>\n          <FormGroup className=\"mb-2 mr-sm-2 mb-sm-0\">\n            <Input type=\"password\" name=\"password\" id=\"examplePassword\" onChange={this.passwordChangeHandler} placeholder=\"Password\" />\n          </FormGroup>\n          <Button onClick={this.loginUser.bind(this)} className=\"LogIn-RightSide-InLine\">Log in</Button>\n        </Form>\n        <div>\n          <img className=\"LogIn-RightSide-Bird\" src={logo2} />\n          <h1 className=\"LogIn-RightSide-Wording\">See what’s happening in</h1>\n          <h1 className=\"LogIn-RightSide-Wording\">the world right now</h1>\n          <h5 className=\"LogIn-RightSide-Wording\">Join Twitter today.</h5>\n          <div className=\"LogIn-RightSide-Button\">\n            <Button className=\"LogIn-RightSide-SignUp\" href=\"/signup\" >Sign up</Button>\n            <div className=\"LogIn-RightSide-LogIn-Padding\">\n              <Button className=\"LogIn-RightSide-LogIn\">Log in</Button>\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n\n    </div>\n    )\n  }\n}\n\nexport default LogIn;\n"]},"metadata":{},"sourceType":"module"}